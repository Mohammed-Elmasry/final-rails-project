<p id="notice"><%= notice %></p>

<h1>Products</h1>

<table class="table">
  <thead class="thead-dark">
    <tr>
      <th  scope="col">Title</th>
      <th  scope="col"> Image  </th>
      <th  scope="col">Description</th>
      <th  scope="col">Price</th>
      <th  scope="col">stock quantity</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @products.each do |product| %>
      <tr>
        <td scope="row"><%= product.title %></td>
        <td scope="row"><%= image_tag(product.image,:size=>"100x50",:class =>"thumbnail")if product.image.attached? %> </td>
        <td scope="row"><%= product.description %></td>
        <td scope="row"><%= product.price %></td>
        <td scope="row"><%= product.in_stock_quantity %></td>
        
        <td scope="row"><%= link_to 'Show', product %></td>
        
        <td scope="row"><%= link_to 'Edit', edit_product_path(product) %></td>
        <% if can? :manage, Product%>
        <td scope="row"><%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<%= link_to 'New Product', new_product_path %>